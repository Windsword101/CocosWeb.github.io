{"version":3,"sources":["assets/Script/Start.js","assets/migration/use_reversed_rotateTo.js"],"names":["cc","Class","extends","Component","properties","Main","default","type","Node","Game","End","MoveObj_Btn1","MoveObj_Btn2","MoveObj_Btn3","MoveObj_Btn4","MoveObj_Btn5","KidAni","maxCount","dragTarget","count","target","items","onLoad","i","this","length","on","EventType","TOUCH_MOVE","onTouchMove","MOUSE_MOVE","MoveObjs","forEach","obj","originPos","getPosition","moveSpriteToPosition","sprite","targetPosition","move","moveTo","runAction","MainFalse","active","MainTrue","GameFalse","GameTrue","EndFalse","EndTrue","GameStart","_this","console","log","fadeOut","scheduleOnce","opacity","setPosition","repeatForever","sequence","scaleTo","fadeIn","ReStart","_this2","onButtonClick1","_this3","MoveObj01","v2","callFunc","delayTime","onButtonClick2","_this4","MoveObj02","onButtonClick3","_this5","MoveObj03","onButtonClick4","_this6","MoveObj04","onButtonClick5","_this7","MoveObj05","event","delta","getDelta","node","x","y","update","_this8","getBoundingBox","intersects","RotateTo","_reverse"],"mappings":"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","sourcesContent":["cc.Class({\n    extends: cc.Component,\n    properties: {\n        Main: { default: null, type: cc.Node },\n        Game: { default: null, type: cc.Node },\n        End: { default: null, type: cc.Node },\n        MoveObj_Btn1: { default: null, type: cc.Node },\n        MoveObj_Btn2: { default: null, type: cc.Node },\n        MoveObj_Btn3: { default: null, type: cc.Node },\n        MoveObj_Btn4: { default: null, type: cc.Node },\n        MoveObj_Btn5: { default: null, type: cc.Node },\n        KidAni: { default: null, type: cc.Node },\n        maxCount: 4,\n        dragTarget: { default: null, type: cc.Node },\n        count: 0,\n        target: {\n          default: null,\n          type: cc.Node\n      },\n      items: {\n          default: [],\n          type: cc.Node\n      }\n\n    },\n\n    onLoad() {\n      for (let i = 0; i < this.items.length; i++) {\n        this.items[i].on(cc.Node.EventType.TOUCH_MOVE, this.onTouchMove, this);\n        this.items[i].on(cc.Node.EventType.MOUSE_MOVE, this.onTouchMove, this);\n    }\n      this.MoveObjs = [\n        this.MoveObj_Btn1,\n        this.MoveObj_Btn2,\n        this.MoveObj_Btn3,\n        this.MoveObj_Btn4,\n        this.MoveObj_Btn5,\n      ];\n    \n      // 儲存原本位置\n      this.MoveObjs.forEach(obj => {\n        obj.originPos = obj.getPosition();\n      });\n    },\n\n    moveSpriteToPosition(sprite, targetPosition) {\n        let move = cc.moveTo(1.5, targetPosition);\n        sprite.runAction(move);\n    },\n\n    MainFalse() { this.Main.active = false; },\n    MainTrue() { this.Main.active = true; },\n    GameFalse() { this.Game.active = false; },\n    GameTrue() { this.Game.active = true; },\n    EndFalse() { this.End.active = false; },\n    EndTrue() { this.End.active = true; },\n\n    GameStart() {\n      console.log(this.Main, this.Game);\n      this.count=0;\n      if (this.Main) {\n        this.Main.runAction(cc.fadeOut(0.5));\n      }\n    \n      this.scheduleOnce(() => {\n        console.log(this.Main, this.Game);\n    \n        if (this.Game) {\n          this.Main.active = false;\n          this.Game.opacity = 0;\n          this.Game.active = true;\n    \n          // 顯示物件，並設置位置和動畫\n          this.MoveObjs.forEach(obj => {\n            obj.active = true;\n            obj.setPosition(obj.originPos);\n            obj.runAction(cc.repeatForever(cc.sequence(cc.scaleTo(1, 0.8), cc.scaleTo(1, 1.5))));\n          });\n    \n          this.Game.runAction(cc.fadeIn(0.5));\n        }\n      }, 0.5);\n    },\n    ReStart() {\n        \n    \n    // 淡出 Main 场景\n    if (this.End) {\n      this.End.runAction(cc.fadeOut(0.5));\n    }\n    \n    // 延迟 1.5 秒后淡入 Game 场景\n    this.scheduleOnce(() => {\n   \n     \n        this.End.active = false;\n        this.Main.opacity = 0;\n        this.Main.active = true;\n        this.Main.runAction(cc.fadeIn(0.5));\n     \n    }, 0.5); },\n\n    //第一按鈕\n    onButtonClick1() {\n        console.log(\"跳轉計數器: \" + this.count);\n        let MoveObj01 = this.MoveObj_Btn1;\n        let move = cc.moveTo(2, cc.v2(0, -330));\n        MoveObj01.runAction(cc.sequence(move, cc.callFunc(() => {\n          MoveObj01.active = false;\n          this.count++;\n          if (this.count >= this.maxCount) {\n            this.Game.runAction(cc.fadeOut(1.5));\n            this.scheduleOnce(() => {\n              this.Game.active = false;\n              this.End.opacity = 0;\n              this.End.active = true;\n              this.End.runAction(cc.fadeIn(1.5));\n              cc.delayTime(4), \n              cc.callFunc(() => {\n                this.KidAni.active = true;\n              })\n            }, 1.5);\n            \n          }\n        })));\n      }\n    ,\n    //第二按鈕\n    onButtonClick2() {\n        console.log(\"跳轉計數器: \" + this.count);\n        let MoveObj02 = this.MoveObj_Btn2;\n        let move = cc.moveTo(2, cc.v2(0, -310));\n        MoveObj02.runAction(cc.sequence(move, cc.callFunc(() => {\n          MoveObj02.active = false;\n          this.count++;\n          if (this.count >= this.maxCount) {\n            this.Game.runAction(cc.fadeOut(1.5));\n            this.scheduleOnce(() => {\n              this.Game.active = false;\n              this.End.opacity = 0;\n              this.End.active = true;\n              this.End.runAction(cc.fadeIn(1.5));\n              cc.delayTime(4), // 延迟1.5秒\n              cc.callFunc(() => {\n                this.KidAni.active = true;\n              })\n            }, 1.5);\n            \n          }\n        })));\n      }\n    ,\n    //第三按鈕\n    onButtonClick3() {\n        console.log(\"跳轉計數器: \" + this.count);\n        let MoveObj03 = this.MoveObj_Btn3;\n        let move = cc.moveTo(2, cc.v2(0, -320));\n        MoveObj03.runAction(cc.sequence(move, cc.callFunc(() => {\n          MoveObj03.active = false;\n          this.count++;\n          if (this.count >= this.maxCount) {\n            this.Game.runAction(cc.fadeOut(1.5));\n            this.scheduleOnce(() => {\n              this.Game.active = false;\n              this.End.opacity = 0;\n              this.End.active = true;\n              this.End.runAction(cc.fadeIn(1.5));\n              cc.delayTime(4), // 延迟1.5秒\n              cc.callFunc(() => {\n                this.KidAni.active = true;\n              })\n            }, 1.5);\n             \n          }\n        })));\n      }\n    ,\n    //第四按鈕\n    onButtonClick4() {\n        console.log(\"跳轉計數器: \" + this.count);\n        let MoveObj04 = this.MoveObj_Btn4;\n        let move = cc.moveTo(2, cc.v2(0, -350));\n        MoveObj04.runAction(cc.sequence(move, cc.callFunc(() => {\n          MoveObj04.active = false;\n          this.count++;\n          if (this.count >= this.maxCount) {\n            this.Game.runAction(cc.fadeOut(1.5));\n            this.scheduleOnce(() => {\n              this.Game.active = false;\n              this.End.opacity = 0;\n              this.End.active = true;\n              this.End.runAction(cc.fadeIn(1.5));\n              cc.delayTime(4), // 延迟1.5秒\n              cc.callFunc(() => {\n                this.KidAni.active = true;\n              })\n            }, 1.5);\n            \n          }\n        })));\n      }\n    ,\n    //第五按鈕\n    onButtonClick5() {\n        console.log(\"跳轉計數器: \" + this.count);\n        let MoveObj05 = this.MoveObj_Btn5;\n        let move = cc.moveTo(2, cc.v2(0, -340));\n        MoveObj05.runAction(cc.sequence(move, cc.callFunc(() => {\n          MoveObj05.active = false;\n          this.count++;\n          if (this.count >= this.maxCount) {\n            this.Game.runAction(cc.fadeOut(1.5));\n            this.scheduleOnce(() => {\n              this.Game.active = false;\n              this.End.opacity = 0;\n              this.End.active = true;\n              this.End.runAction(cc.fadeIn(1.5));\n              cc.delayTime(4), // 延迟1.5秒\n              cc.callFunc(() => {\n                this.KidAni.active = true;\n              })\n            }, 1.5);\n            \n          }\n        })));\n      },\n    \n        onTouchMove (event) {\n            let delta = event.getDelta();\n            let node = event.target;\n            node.x += delta.x;\n            node.y += delta.y;\n        },\n    \n        update () {\n          for (let i = 0; i < this.items.length; i++) {\n            if (this.items[i].active && this.items[i].getBoundingBox().intersects(this.target.getBoundingBox())) {\n                console.log(\"Item \" + i + \" has reached the target!\");\n                this.items[i].active = false;\n                this.count++;\n                if (this.count >= this.maxCount) {\n                    this.Game.runAction(cc.fadeOut(1.5));\n                    this.scheduleOnce(() => {\n                        this.Game.active = false;\n                        this.End.opacity = 0;\n                        this.End.active = true;\n                        this.End.runAction(cc.fadeIn(1.5));\n                        this.scheduleOnce(() => {\n                            this.KidAni.active = true;\n                        }, 1.5);\n                    }, 1.5);\n                }\n            }\n        }\n        }\n    \n  \n      \n    \n    \n    }\n\n\n);\n\n\n\n","/*\n * This script is automatically generated by Cocos Creator and is only used for projects compatible with v2.1.0/v2.1.1/v2.2.1/v2.2.2 versions.\n * You do not need to manually add this script in any other project.\n * If you don't use cc.Action in your project, you can delete this script directly.\n * If your project is hosted in VCS such as git, submit this script together.\n *\n * 此脚本由 Cocos Creator 自动生成，仅用于兼容 v2.1.0/v2.1.1/v2.2.1/v2.2.2 版本的工程，\n * 你无需在任何其它项目中手动添加此脚本。\n * 如果你的项目中没用到 Action，可直接删除该脚本。\n * 如果你的项目有托管于 git 等版本库，请将此脚本一并上传。\n */\n\ncc.RotateTo._reverse = true;\n"],"file":"index.js"}